<html xmlns:cf="http://docbook.sourceforge.net/xmlns/chunkfast/1.0">
<head>
   <meta content="text/html; charset=ISO-8859-1" http-equiv="Content-Type">
   <title>Chapter 11. New Features in HTML_Progress2 </title>
   <link href="book.css" rel="stylesheet" type="text/css">
   <meta content="DocBook XSL Stylesheets V1.69.0" name="generator">
   <link href="index.html" rel="start" title="HTML_Progress2 Manual">
   <link href="pt03.html" rel="up" title="Part III. Migrating Guide">
   <link href="ch10s03.html" rel="prev" title="Data Management related">
   <link href="ch11s02.html" rel="next" title="Error Handling">
</head>
<body alink="#0000FF" bgcolor="white" link="#0000FF" text="black" vlink="#840084">
<table class="qfamsHeader">
   <tr>
      <td><img align="left" alt="PEAR Progress2 logo" src="img/pear_progress2.gif">
         <h1>HTML_Progress2 : The Definitive Guide</h1>

         <p>
         <div class="navheader">
            <table summary="Navigation header" width="100%">
               <tr>
                  <th align="center" colspan="3">Chapter 11. New Features in HTML_Progress2 </th>
               </tr>
               <tr>
                  <td align="left" width="20%"><a accesskey="p" href="ch10s03.html">Prev</a> </td>
                  <th align="center" width="60%">Part III. Migrating Guide</th><td align="right" width="20%"> <a accesskey="n" href="ch11s02.html">Next</a></td>
               </tr>
            </table>
         </div></p>
      </td>
   </tr>
</table>
<div class="chapter" lang="en"><div class="titlepage"><div><div>
            <h2 class="title"><a name="migrating.newfeatures"></a>Chapter 11. New Features in HTML_Progress2 </h2>
         </div>
      </div>
   </div>
   <div class="toc">

      <p><b>Table of Contents</b></p>
      <dl><dt><span class="sect1"><a href="ch11.html#id4778221">Multiple Label System</a></span></dt>
         <dd>
         <dl><dt><span class="sect2"><a href="ch11.html#id4780264">Add a new label 
            </a></span></dt><dt><span class="sect2"><a href="ch11.html#id4780458">Remove existing label 
            </a></span></dt>
         </dl></dd><dt><span class="sect1"><a href="ch11s02.html">Error Handling</a></span></dt>
      </dl>
   </div>

   <p>This chapter documents all of the differences between HTML_Progress 1.x and the new features introduced in HTML_Progress2. </p>

   <p>The most significant change in HTML_Progress2 is the addition of the Multiple Label System. </p>
   <div class="sect1" lang="en"><div class="titlepage"><div><div>
               <h2 class="title" style="clear: both"><a name="id4778221"></a>Multiple Label System</h2></div>
         </div>
      </div>
      <div class="toc">
         <dl><dt><span class="sect2"><a href="ch11.html#id4780264">Add a new label 
            </a></span></dt><dt><span class="sect2"><a href="ch11.html#id4780458">Remove existing label 
            </a></span></dt>
         </dl>
      </div>

      <p>While with HTML_Progress 1.x you have no choice, or so few, to display informations with text zone also called &#8220;<span class="quote">string</span>&#8221;; In the new API of HTML_Progress2 you may have as much labels as you want all around the progres meter. </p>

      <p>No need anymore to do a choice between the percent text info and captions while the progress meter reach particular values. You can have both at same time, and even more. </p>

      <p>As in previous version, HTML_Progress 1.x, you can have text zone as label, but also now four more types. Here are the list : </p>
      <div class="variablelist">
         <dl><dt><span class="term"> (text) <code class="constant">HTML_PROGRESS2_LABEL_TEXT</code> 
            </span></dt>
            <dd>

            <p>A simple text zone </p></dd>
         </dl>
      </div>

      <p></p>
      <div class="variablelist">
         <dl><dt><span class="term"> (button) <code class="constant">HTML_PROGRESS2_LABEL_BUTTON</code> 
            </span></dt>
            <dd>

            <p>A simple button </p></dd>
         </dl>
      </div>

      <p></p>
      <div class="variablelist">
         <dl><dt><span class="term"> (step) <code class="constant">HTML_PROGRESS2_LABEL_STEP</code> 
            </span></dt>
            <dd>

            <p>A step zone information to display value of current 
            <code class="methodname">moveStep()</code> </p></dd>
         </dl>
      </div>

      <p></p>
      <div class="variablelist">
         <dl><dt><span class="term"> (percent) <code class="constant">HTML_PROGRESS2_LABEL_PERCENT</code> 
            </span></dt>
            <dd>

            <p>The basic percent text information formatted as &#8220;<span class="quote">67 %</span>&#8221;. </p></dd>
         </dl>
      </div>

      <p></p>
      <div class="variablelist">
         <dl><dt><span class="term"> (crossbar) <code class="constant">HTML_PROGRESS2_LABEL_CROSSBAR</code> 
            </span></dt>
            <dd>

            <p>A little javascript cross rotate animation </p></dd>
         </dl>
      </div>

      <p></p>
      <div class="sect2" lang="en"><div class="titlepage"><div><div>
                  <h3 class="title"><a name="id4780264"></a>Add a new label </h3>
               </div>
            </div>
         </div>

         <p>The only label you don't have to set, in most cases, with 
         <code class="methodname">addLabel()</code> method is the percent text info, identified by 
         <span class="emphasis"><em>pct1</em></span> by default. </p>
         <div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
            <table border="0" summary="Note">
               <tr>
                  <td align="center" rowspan="2" valign="top" width="48px"><img alt="[Note]" src="img/admons/note.png"></td>
                  <th align="left">Note</th>
               </tr>
               <tr>
                  <td align="left" valign="top"> You can remove the percent text info at build time with the HTML_Progress2 class construtor and the fifth parameter set to 
                     <code class="constant">FALSE</code>. 
<pre class="programlisting">
$bar = new HTML_Progress2($errorPrefs, $orient, $min, $max, $percentLabel);
/*
       $errorPrefs   :hash of options to configure the API error handling system
                      default is empty array (use PEAR_Error object)
       $orient       :orientation of the progress bar (see constants)
       $min          :minimum value of the progress bar (default is zero)
       $max          :maximum value of the progress bar (default is 100)
       $percentLabel :progress bar percent label identifier (default is 'pct1')
 */
     </pre>In such condition, if you need after a while to display the percent text again, you shall use the 
                     <code class="methodname">addLabel()</code> method with any free identifier (can be 
                     <span class="emphasis"><em>pct1</em></span> as any other else). 
                  </td>
               </tr>
            </table>
         </div>

         <p></p>

         <p>Goal of this mini tutorial is to build a horizontal progress bar with percent text info on right side, with four other kind of label (text, crossbar, step, button). Something like that : </p>
         <div class="screenshot"><div><img src="img/mixed2.png"></div>
         </div>

         <p>For a full source code, have a look 
         <a href="ch18s03.html#examples.label.1" title="">here</a>. </p>

         <p>No special difficulty. We will used four times the couple : </p>
<pre class="programlisting">
$bar-&gt;addLabel($type, $name, $value);
/*
       $type         :label type / a constant HTML_PROGRESS2_LABEL_* value
       $name         :label name (identifier)
       $value        :initial label value
 */

$bar-&gt;setLabelAttributes($name, $attributes)
/*
       $name         :label name (identifier)
       $attributes   :associative array or string of HTML tag attributes
 */
     </pre>

         <p>With $bar an instance of <code class="classname">HTML_Progress2</code> object. </p>
<pre class="programlisting">
$bar = new HTML_Progress2();
     </pre>

         <p></p>

         <p>For a full attributes list depending of each label kind, see the Reference Guide, 
         <a href="re35.html" title="HTML_Progress2::setLabelAttributes"> setLabelAttributes() 
         </a> related. </p>

         <p>Remains of the script is as usal: </p>
         <div class="itemizedlist">
            <ul type="disc">
               <li>complete build of the progress meter (css, js, html parts) : 
               <code class="methodname">getStyle()</code>, 
               <code class="methodname">getScript()</code>, 
               <code class="methodname">display()</code></li>
               <li>see the progress meter in action : 
               <code class="methodname">run()</code></li>
            </ul>
         </div>

         <p></p>
      </div>
      <div class="sect2" lang="en"><div class="titlepage"><div><div>
                  <h3 class="title"><a name="id4780458"></a>Remove existing label </h3>
               </div>
            </div>
         </div>

         <p>This feature is available at build-time, and may be usefull to extend some progress meter from a common source, and remove the unnecessary labels. </p>

         <p>For example, if you consider the previous script, as your common/core script, written in two parts/templates (<code class="filename">build-meter.php</code>, 
         <code class="filename">run-meter.php</code>) splitted at the DTD frontier. </p>

         <p>So, if you want to build a new progress meter without the button. You have just to re-used your previous code and complete with : </p>
<pre class="programlisting">
    
&lt;?php
include_once 'build-meter.php';

$pb-&gt;removeLabel('btn1');

include_once 'run-meter.php';
?&gt;
    
   </pre>

         <p>Pretty easy. </p>
      </div>
   </div>
</div>
<table class="qfamsFooter">
   <tr>
      <td align="left">HTML_Progress2 : The Definitive Guide</td>
      <td align="right">v 1.0.0 : September 23, 2005</td>
   </tr>
</table>
<div class="navfooter"><hr>
   <table summary="Navigation footer" width="100%">
      <tr>
         <td align="left" width="40%"><a accesskey="p" href="ch10s03.html">Prev</a> </td>
         <td align="center" width="20%"><a accesskey="u" href="pt03.html">Up</a></td>
         <td align="right" width="40%"> <a accesskey="n" href="ch11s02.html">Next</a></td>
      </tr>
      <tr>
         <td align="left" valign="top" width="40%">Data Management related </td>
         <td align="center" width="20%"><a accesskey="h" href="index.html">Home</a></td>
         <td align="right" valign="top" width="40%"> Error Handling</td>
      </tr>
   </table>
</div>
</body>
</html> 

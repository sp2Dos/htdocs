<html xmlns:cf="http://docbook.sourceforge.net/xmlns/chunkfast/1.0">
<head>
   <meta content="text/html; charset=ISO-8859-1" http-equiv="Content-Type">
   <title>Chapter 10. How to adjust your code</title>
   <link href="book.css" rel="stylesheet" type="text/css">
   <meta content="DocBook XSL Stylesheets V1.69.0" name="generator">
   <link href="index.html" rel="start" title="HTML_Progress2 Manual">
   <link href="pt03.html" rel="up" title="Part III. Migrating Guide">
   <link href="ch09s03.html" rel="prev" title="What was removed ?">
   <link href="ch10s02.html" rel="next" title="User Interface related">
</head>
<body alink="#0000FF" bgcolor="white" link="#0000FF" text="black" vlink="#840084">
<table class="qfamsHeader">
   <tr>
      <td><img align="left" alt="PEAR Progress2 logo" src="img/pear_progress2.gif">
         <h1>HTML_Progress2 : The Definitive Guide</h1>

         <p>
         <div class="navheader">
            <table summary="Navigation header" width="100%">
               <tr>
                  <th align="center" colspan="3">Chapter 10. How to adjust your code</th>
               </tr>
               <tr>
                  <td align="left" width="20%"><a accesskey="p" href="ch09s03.html">Prev</a> </td>
                  <th align="center" width="60%">Part III. Migrating Guide</th><td align="right" width="20%"> <a accesskey="n" href="ch10s02.html">Next</a></td>
               </tr>
            </table>
         </div></p>
      </td>
   </tr>
</table>
<div class="chapter" lang="en"><div class="titlepage"><div><div>
            <h2 class="title"><a name="migrating.ajustcode"></a>Chapter 10. How to adjust your code</h2></div>
      </div>
   </div>
   <div class="toc">

      <p><b>Table of Contents</b></p>
      <dl><dt><span class="sect1"><a href="ch10.html#id4778279">core class related</a></span></dt><dt><span class="sect1"><a href="ch10s02.html">User Interface related</a></span></dt><dt><span class="sect1"><a href="ch10s03.html">Data Management related</a></span></dt>
      </dl>
   </div>
   <div class="sect1" lang="en"><div class="titlepage"><div><div>
               <h2 class="title" style="clear: both"><a name="id4778279"></a>core class related</h2></div>
         </div>
      </div>

      <p></p>
      <div class="variablelist">
         <dl><dt><span class="term"> class constructor </span></dt>
            <dd>

            <p>HTML_Progress 1.x allows multiple signatures (5) while HTML_Progress2 allow one unique signature even if all parameters are optional. </p>

            <p>Resume of HTML_Progress 1.x signatures : </p>
            <div class="orderedlist">
               <ol type="1">
                  <li>$bar = new HTML_Progress(); </li>
                  <li>$bar = new HTML_Progress($orient); </li>
                  <li>$bar = new HTML_Progress($min, $max); </li>
                  <li>$bar = new HTML_Progress($orient, $min, $max); </li>
                  <li>$bar = new HTML_Progress($model); </li>
               </ol>
            </div>

            <p></p>
            <div class="caution" style="margin-left: 0.5in; margin-right: 0.5in;">
               <table border="0" summary="Caution">
                  <tr>
                     <td align="center" rowspan="2" valign="top" width="48px"><img alt="[Caution]" src="img/admons/caution.png"></td>
                     <th align="left">Caution</th>
                  </tr>
                  <tr>
                     <td align="left" valign="top"> Signature #5 is no more allowed because feature was removed. 
                     </td>
                  </tr>
               </table>
            </div>

            <p></p>

            <p>HTML_Progress2 signature : </p>
<pre class="programlisting">
$bar = new HTML_Progress2($errorPrefs, $orient, $min, $max, $percentLabel);
/*
       $errorPrefs   :hash of options to configure the API error handling system
                      default is empty array (use PEAR_Error object)
       $orient       :orientation of the progress bar (see constants)
       $min          :minimum value of the progress bar (default is zero)
       $max          :maximum value of the progress bar (default is 100)
       $percentLabel :progress bar percent label identifier (default is 'pct1')
 */
         </pre>

            <p></p></dd>
         </dl>
      </div>

      <p></p>
      <div class="variablelist">
         <dl><dt><span class="term"> apiVersion() </span></dt>
            <dd>

            <p>Returns the current API version compatible with the PHP function : 
            <a class="external" href="http://www.php.net/manual-lookup.php?pattern=version_compare" title="http://www.php.net/manual-lookup.php?pattern=version_compare">version_compare()</a> </p>

            <p>This method return now a string rather than a float, and allow a largest version naming (such as x.y.zRCn) </p></dd>
         </dl>
      </div>

      <p></p>
      <div class="variablelist">
         <dl><dt><span class="term"> getPercentComplete() </span></dt>
            <dd>

            <p>Returns the percent complete for the progress meter </p>

            <p>This method has now an optional parameter that allows to return either </p>
            <div class="itemizedlist">
               <ul type="disc">
                  <li>a float by default (range 0.00 to 1.00) </li>
                  <li>an integer (range 0 to 100) </li>
               </ul>
            </div>

            <p></p></dd>
         </dl>
      </div>

      <p></p>
      <div class="variablelist">
         <dl><dt><span class="term"> display() </span></dt>
            <dd>

            <p>Rendering of the progress meter. </p>
            <div class="important" style="margin-left: 0.5in; margin-right: 0.5in;">
               <table border="0" summary="Important">
                  <tr>
                     <td align="center" rowspan="2" valign="top" width="48px"><img alt="[Important]" src="img/admons/important.png"></td>
                     <th align="left">Important</th>
                  </tr>
                  <tr>
                     <td align="left" valign="top"> This method has a new behavior. It will now send only 
                        <code class="methodname">toHtml()</code> output to browser, while in previous version this method managed browser refresh. Refresh are now made by the 
                        <code class="methodname">moveNext()</code> or 
                        <code class="methodname">moveStep()</code> method. 
                     </td>
                  </tr>
               </table>
            </div>

            <p></p></dd>
         </dl>
      </div>

      <p></p>
   </div>
</div>
<table class="qfamsFooter">
   <tr>
      <td align="left">HTML_Progress2 : The Definitive Guide</td>
      <td align="right">v 1.0.0 : September 23, 2005</td>
   </tr>
</table>
<div class="navfooter"><hr>
   <table summary="Navigation footer" width="100%">
      <tr>
         <td align="left" width="40%"><a accesskey="p" href="ch09s03.html">Prev</a> </td>
         <td align="center" width="20%"><a accesskey="u" href="pt03.html">Up</a></td>
         <td align="right" width="40%"> <a accesskey="n" href="ch10s02.html">Next</a></td>
      </tr>
      <tr>
         <td align="left" valign="top" width="40%">What was removed ? </td>
         <td align="center" width="20%"><a accesskey="h" href="index.html">Home</a></td>
         <td align="right" valign="top" width="40%"> User Interface related</td>
      </tr>
   </table>
</div>
</body>
</html> 
